/* KPI row layout */
.kpi-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Panel layout & shared look */
.panel {
  background: radial-gradient(circle at top left, rgba(15, 118, 110, 0.35), rgba(15, 23, 42, 0.96));
  border-radius: 20px;
  padding: 16px 18px;
  border: 1px solid rgba(148, 163, 184, 0.3);
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.7);
  box-sizing: border-box;
}

/* Grid for chart + aging block (desktop default) */
.panel-grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 16px;
}

/* Filters panel overall container */
.filters-panel {
  margin-top: 4px;
}

/* Desktop: filters panel uses grid so left column is fixed width and right column is flexible */
.filters-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 24px;
  align-items: start;
}

/* left column for filters (drop-downs, search button, etc.) */
.filters-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 280px;
  min-width: 260px;
}

/* filter row and inline rows */
.filter-row {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.filter-row-inline {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

.filter-field {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Right-hand column inside the filters panel that holds the InventoryHealthPanel */
.nl-search-column {
  display: block;
  width: 100%;
  min-height: 320px; /* reserve vertical space for Inventory Health panel on desktop */
  padding-left: 12px;
  box-sizing: border-box;
}

/* If you render a natural language search box above inventory health, keep alignment */
.nl-search-shell {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

/* Drill-down header layout */
.drill-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
}

/* Recharts tooltips safety */
.recharts-tooltip-wrapper {
  background: transparent !important;
  box-shadow: none !important;
  pointer-events: none !important;
}

.recharts-default-tooltip {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* ----- CENTER PAGE CONTENT (desktop) -----
   Constrain the main container so the dashboard sits centered in the viewport.
   --page-width controls the content column width on larger screens. */
:root {
  --page-width: 1180px;
  --page-padding: 18px;
}

/* Center the main content area used by App.tsx */
.container {
  max-width: var(--page-width);
  margin: 0 auto;
  padding: var(--page-padding);
  box-sizing: border-box;
}

/* Constrain the major dashboard wrappers to fill the centered container */
.kpi-row,
.panel-grid,
.filters-layout,
.health-layout,
.nl-search-column,
.mobile-card-list {
  max-width: 100%;
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
}

/* Ensure panels fill available constrained width but don't overflow */
.panel {
  width: 100%;
  box-sizing: border-box;
}

/* Protect chart/aging section from growing past container */
.panel-grid {
  max-width: var(--page-width);
  margin: 12px auto;
  grid-template-columns: 1.35fr 1fr;
}

/* Ensure the filter column does not push the layout off-center */
.filters-panel,
.filters-layout {
  max-width: var(--page-width);
  margin: 0 auto;
}

/* Small tweak for KPI bar so it centers under the search/header */
.kpi-row {
  max-width: var(--page-width);
  margin: 12px auto;
  grid-template-columns: 1fr 1fr;
}

/* Utility: avoid overflowing children */
.panel > * {
  max-width: 100%;
  overflow-wrap: anywhere;
  box-sizing: border-box;
}

/* Ensure specific large children are responsive */
.charts-section,
.inventory-table,
.new-arrivals,
.drill-group,
.mobile-card-list {
  max-width: 100%;
  box-sizing: border-box;
}

/* Make sure the entire document respects border-box sizing */
* {
  box-sizing: border-box;
}

/* Extra safeguard: ensure the body background stays visible and centered */
body {
  min-height: 100vh;
  display: block;
  background-repeat: no-repeat;
  background-size: cover;
}
