/* KPI row layout */
.kpi-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Panel layout & shared look */
.panel {
  background: radial-gradient(circle at top left, rgba(15, 118, 110, 0.35), rgba(15, 23, 42, 0.96));
  border-radius: 20px;
  padding: 16px 18px;
  border: 1px solid rgba(148, 163, 184, 0.3);
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.7);
}

/* Grid for chart + aging block */
.panel-grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 16px;
}

/* Filters panel overall container */
.filters-panel {
  margin-top: 4px;
}

/* Use a grid for the filters panel so the right column can host InventoryHealthPanel */
.filters-layout {
  display: grid;
  /* left column: fixed filter controls width; right column: flexible content area */
  grid-template-columns: 280px 1fr;
  gap: 24px;
  align-items: start;
}

/* left column for filters (drop-downs, search button, etc.) */
.filters-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 280px;
  min-width: 260px;
}

/* filter row and inline rows */
.filter-row {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.filter-row-inline {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

.filter-field {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Right-hand column inside the filters panel that holds the InventoryHealthPanel
   (previously the natural language search area) */
.nl-search-column {
  display: block;
  width: 100%;
  min-height: 320px; /* reserve vertical space for the Inventory Health card */
  padding-left: 12px;
  box-sizing: border-box;
}

/* If you render a natural language search box above inventory health, keep alignment */
.nl-search-shell {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

/* Drill-down header layout */
.drill-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
}

/* Add this at the end of src/styles/layout.css to reduce interference with Recharts tooltip wrapper */
.recharts-tooltip-wrapper {
  background: transparent !important;
  box-shadow: none !important;
  pointer-events: none !important;
}

.recharts-default-tooltip {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* ----- CENTER PAGE CONTENT (NEW) -----
   Constrain the main container and common page-grid wrappers so the dashboard
   sits centered in the viewport. Adjust --page-width to taste (e.g. 1180px). */

:root {
  --page-width: 1180px; /* change this value to make the layout wider/narrower */
  --page-padding: 18px;
}

/* Center the main content area used by App.tsx */
.container {
  max-width: var(--page-width);
  margin: 0 auto;        /* horizontally center the page content */
  padding: var(--page-padding);
  box-sizing: border-box;
}

/* Constrain the major dashboard grid wrappers and center them */
.kpi-row,
.panel-grid,
.filters-layout,
.health-layout,
.nl-search-column,
.mobile-card-list {
  max-width: 100%;
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
}

/* Ensure panels fill available constrained width but don't overflow */
.panel {
  width: 100%;
  box-sizing: border-box;
}

/* Protect chart/aging section from growing past container */
.panel-grid {
  max-width: var(--page-width);
  margin: 12px auto;
  grid-template-columns: 1.35fr 1fr; /* keep original ratio but constrained to max width */
}

/* Ensure the filter column does not push the layout off-center */
.filters-panel,
.filters-layout {
  max-width: var(--page-width);
  margin: 0 auto;
}

/* Small tweak for KPI bar so it centers under the search/header */
.kpi-row {
  max-width: var(--page-width);
  margin: 12px auto;
  grid-template-columns: 1fr 1fr;
}

/* Utility: when individual blocks inside panels have side margins, let them wrap */
.panel > * {
  max-width: 100%;
  overflow-wrap: anywhere;
  box-sizing: border-box;
}

/* If you have specific wide children (charts etc.), make them responsive */
.charts-section,
.inventory-table,
.new-arrivals,
.drill-group,
.mobile-card-list {
  max-width: 100%;
  box-sizing: border-box;
}

/* Prevent any left-floating or fixed widths from pushing the layout */
* {
  box-sizing: border-box;
}

/* Responsive: reduce left/right padding on small screens */
@media (max-width: 1200px) {
  :root {
    --page-width: calc(100% - 48px);
    --page-padding: 12px;
  }

  .container {
    padding: 12px;
  }

  /* On smaller screens switch to a single column so filters stack above Inventory Health */
  .filters-layout {
    display: grid;
    grid-template-columns: 1fr;
  }

  .filters-column {
    max-width: 100%;
    min-width: 0;
  }

  .nl-search-column {
    min-height: 180px;
    padding-left: 0;
  }
}

/* Extra safeguard: ensure the body background stays visible and centered when content is narrower */
body {
  min-height: 100vh;
  display: block;
  background-repeat: no-repeat;
  background-size: cover;
}
